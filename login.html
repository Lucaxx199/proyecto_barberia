<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login BarberShop</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

    <link rel="stylesheet" href="css/login.css" />
</head>

<body class="imagen_fondo">

    <login-container>
        <!-- Formulario -->
        <img class="imagen container" src="imagenes/lucas/logo_gpt.png" alt="" />

        <form id="loginForm">
            <!-- Email -->
            <div class="form-floating mb-3">
                <input type="email" class="form-control" id="floatingInput" name="email" placeholder="name@example.com"
                    required />
                <label for="floatingInput">Email</label>
            </div>

            <!-- Contraseña -->
            <div class="form-floating mb-3">
                <input type="password" class="form-control" id="floatingPassword" name="password" placeholder="Password"
                    required />
                <label for="floatingPassword">Contraseña</label>
            </div>

            <div class="mb-3">
                <button class="btn btn-primary" type="submit">Iniciar sesión</button>
            </div>

            <div id="mensaje" class="text-danger text-center"></div>
        </form>
    </login-container>

    <script>
        document.getElementById("loginForm").addEventListener("submit", function (e) {
            e.preventDefault(); // Evita recarga

            // Credenciales válidas (admin)
            const emailAdmin = "lucas@gmail.com";
            const passwordAdmin = "1234";

            // Credenciales válidas (barbero1)
            const emailBarbero1 = "barbero1@gmail.com";
            const passwordBarbero1 = "1234";

            // Credenciales válidas (barbero2)
            const emailBarbero2 = "barbero2@gmail.com";
            const passwordBarbero2 = "1234";

            const email = document.getElementById("floatingInput").value;
            const password = document.getElementById("floatingPassword").value;
            const mensaje = document.getElementById("mensaje");

            // logicas de inicio redireccion
            if (email === emailAdmin && password === passwordAdmin) {
                localStorage.setItem("userRole", "admin");
                mensaje.style.color = "green";
                mensaje.textContent = "Inicio de sesión exitoso. Redirigiendo...";
                setTimeout(() => {
                    window.location.href = "admin.html";
                }, 1500);
            } else if (email === emailBarbero1 && password === passwordBarbero1) {
                localStorage.setItem("userRole", "barbero");
                mensaje.style.color = "green";
                mensaje.textContent = "Inicio de sesión exitoso. Redirigiendo...";
                setTimeout(() => {
                    window.location.href = "index.html";
                }, 1500);
            } else if (email === emailBarbero2 && password === passwordBarbero2) {
                localStorage.setItem("userRole", "barbero");
                mensaje.style.color = "green";
                mensaje.textContent = "Inicio de sesión exitoso. Redirigiendo...";
                setTimeout(() => {
                    window.location.href = "index.html";
                }, 1500);
            } else {
                mensaje.style.color = "red";
                mensaje.textContent = "Credenciales incorrectas.";
            }

        });
    </script>

</body>

</html>